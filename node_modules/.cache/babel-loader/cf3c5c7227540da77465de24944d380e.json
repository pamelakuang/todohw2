{"ast":null,"code":"//import React, { Component } from 'react'\nimport jsTPS_Transaction from './jsTPS_Transaction';\n\nclass jsTPS {\n  //export class jsTPS extends Component {\n  // performingDo=null;\n  // performingUndo=null\n  // transactions = null;\n  // mostRecentTransaction = null;\n  constructor() {\n    this.isPerformingDo = () => {\n      return this.performingDo;\n    };\n\n    this.isPerformingUndo = () => {\n      return this.performingUndo;\n    };\n\n    this.addTransaction = transaction => {\n      if (this.mostRecentTransaction < 0 || this.mostRecentTransaction < this.transactions.length - 1) {\n        for (let i = this.transactions.length - 1; i > this.mostRecentTransaction; i--) {\n          this.transactions.splice(i, 1);\n        }\n      }\n\n      this.transactions.push(transaction);\n      this.doTransaction();\n    };\n\n    this.doTransaction = () => {\n      if (this.hasTransactionToRedo()) {\n        this.performingDo = true;\n        var transaction = this.transactions[this.mostRecentTransaction + 1];\n        transaction.doTransaction();\n        this.mostRecentTransaction = this.mostRecentTransaction + 1;\n        this.performingDo = false;\n      }\n    };\n\n    this.peekUndo = () => {\n      if (this.hasTransactionToUndo()) {\n        return this.transactions[this.mostRecentTransaction];\n      } else return null;\n    };\n\n    this.peekDo = () => {\n      if (this.hasTransactionToRedo()) {\n        return this.transactions[this.mostRecentTransaction + 1];\n      } else return null;\n    };\n\n    this.undoTransaction = () => {\n      if (this.hasTransactionToUndo()) {\n        this.performingUndo = true;\n        var transaction = this.transactions[this.mostRecentTransaction];\n        transaction.undoTransaction();\n        this.mostRecentTransaction--;\n        this.performingUndo = false;\n      }\n    };\n\n    this.clearAllTransactions = () => {\n      this.transactions = [];\n      this.mostRecentTransaction = -1;\n    };\n\n    this.getSize = () => {\n      return this.transactions.length;\n    };\n\n    this.getRedoSize = () => {\n      return this.getSize() - this.mostRecentTransaction - 1;\n    };\n\n    this.getUndoSize = () => {\n      return this.mostRecentTransaction + 1;\n    };\n\n    this.hasTransactionToUndo = () => {\n      return this.mostRecentTransaction >= 0;\n    };\n\n    this.hasTransactionToRedo = () => {\n      return this.mostRecentTransaction < this.transactions.length - 1;\n    };\n\n    this.toString = () => {\n      var text = \"--Number of Transactions: \" + this.transactions.length + \"\\n\";\n      text += \"--Current Index on Stack: \" + this.mostRecentTransaction + \"\\n\";\n      text += \"--Current Transaction Stack:\\n\";\n\n      for (let i = 0; i <= this.mostRecentTransaction; i++) {\n        var jT = this.transactions[i];\n        text += \"----\" + jT.toString() + \"\\n\";\n      }\n\n      return text;\n    };\n\n    this.performingDo = false;\n    this.performingUndo = false;\n    this.transactions = [];\n    this.mostRecentTransaction = -1;\n  }\n\n}\n/*class ListNameChange_Transaction {\n\n    nameChangeList = [];\n    currentLists = [];\n    constructor(initName, list) {\n        this.nameChangeList.push(initName);\n        this.currentLists.push(list);\n    }\n    doTransaction = () => {\n\n    }\n\n    undoTransaction = () => {\n        \n    }\n}*/\n\n\nexport default jsTPS;","map":{"version":3,"sources":["/Users/vash/Desktop/Pam/CSE316/todo_hw2/src/jTPS/src/jtps/jsTPS.js"],"names":["jsTPS_Transaction","jsTPS","constructor","isPerformingDo","performingDo","isPerformingUndo","performingUndo","addTransaction","transaction","mostRecentTransaction","transactions","length","i","splice","push","doTransaction","hasTransactionToRedo","peekUndo","hasTransactionToUndo","peekDo","undoTransaction","clearAllTransactions","getSize","getRedoSize","getUndoSize","toString","text","jT"],"mappings":"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","sourcesContent":["//import React, { Component } from 'react'\nimport jsTPS_Transaction from './jsTPS_Transaction'\n\nclass jsTPS {\n//export class jsTPS extends Component {\n    // performingDo=null;\n    // performingUndo=null\n    // transactions = null;\n    // mostRecentTransaction = null;\n    constructor() {\n        this.performingDo=false;\n        this.performingUndo=false;\n        this.transactions = [];\n        this.mostRecentTransaction = -1;\n    }\n\n    isPerformingDo = () => {\n        return this.performingDo;\n    }\n\n    isPerformingUndo = () => {\n        return this.performingUndo;\n    }\n\n    addTransaction = (transaction) => {\n        if ((this.mostRecentTransaction < 0) || this.mostRecentTransaction < (this.transactions.length - 1)) {\n            for (let i = this.transactions.length-1; i > this.mostRecentTransaction; i--) {\n                this.transactions.splice(i, 1);\n            }\n        }\n        this.transactions.push(transaction);\n        this.doTransaction();\n    }\n    \n    doTransaction = () => {\n        if(this.hasTransactionToRedo()) {\n            this.performingDo = true;\n            var transaction = this.transactions[this.mostRecentTransaction+1];\n            transaction.doTransaction();\n            this.mostRecentTransaction = this.mostRecentTransaction + 1;\n            this.performingDo = false;\n        }\n    }\n    peekUndo = () => {\n        if(this.hasTransactionToUndo()) {\n            return this.transactions[this.mostRecentTransaction];\n        }\n        else\n            return null;\n    }\n    peekDo = () => {\n        if (this.hasTransactionToRedo()) {\n            return this.transactions[this.mostRecentTransaction+1];\n        }\n        else \n            return null;\n    }\n\n    undoTransaction = () => {\n        if (this.hasTransactionToUndo()) {\n            this.performingUndo = true;\n            var transaction = this.transactions[this.mostRecentTransaction];\n            transaction.undoTransaction();\n            this.mostRecentTransaction--;\n            this.performingUndo = false;\n        }\n    }\n    clearAllTransactions = () => {\n        this.transactions = [];\n        this.mostRecentTransaction = -1;\n    }\n    \n    getSize = () => {\n        return this.transactions.length;\n    }\n\n    getRedoSize = () => {\n        return this.getSize() - this.mostRecentTransaction - 1;\n    }\n    \n    getUndoSize = () => {\n        return this.mostRecentTransaction + 1;\n    }\n    \n    hasTransactionToUndo = () => {\n        return this.mostRecentTransaction >= 0;\n    }\n\n    hasTransactionToRedo = () => {\n        return this.mostRecentTransaction < (this.transactions.length-1);\n    }\n    \n    toString = () => {\n        var text = \"--Number of Transactions: \" + this.transactions.length + \"\\n\";\n        text += \"--Current Index on Stack: \" + this.mostRecentTransaction + \"\\n\";\n        text += \"--Current Transaction Stack:\\n\";\n        for (let i = 0; i <= this.mostRecentTransaction; i++) {\n            var jT = this.transactions[i];\n            text += \"----\" + jT.toString() + \"\\n\";\n        }\n        return text;\n    }\n}\n\n\n/*class ListNameChange_Transaction {\n\n    nameChangeList = [];\n    currentLists = [];\n    constructor(initName, list) {\n        this.nameChangeList.push(initName);\n        this.currentLists.push(list);\n    }\n    doTransaction = () => {\n\n    }\n\n    undoTransaction = () => {\n        \n    }\n}*/\n\n\nexport default jsTPS\n"]},"metadata":{},"sourceType":"module"}